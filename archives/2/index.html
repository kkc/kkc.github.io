<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="jJnpQjFutFaHT1yZV38mcuySEQjIm1b_DWfx3GfBoII">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Notes about technology, DevOps, programming, and database">
    <meta name="keyword" content="AWS, golang, python, DevOps">
    <meta property="og:title" content="undefined - Kakashi&#39;s Blog">
    <meta property="og:description" content="undefined">
    <meta property="og:image" content="http://kkc.github.io/archives/2/index.htmlundefined">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          Kakashi&#39;s Blog
        
    </title>

    <link rel="canonical" href="http://kkc.github.io/archives/2/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/css/beantech.min.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <link rel="stylesheet" href="/css/widget.css">

    <link rel="stylesheet" href="/css/rocket.css">

    <link rel="stylesheet" href="/css/signature.css">

    <link rel="stylesheet" href="/css/toc.css">

    <!-- Custom Fonts -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/
    css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('/img/home-bg.jpg') 
            /*config*/
        
    }
    
</style>

<header class="intro-header">
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="site-heading">
                        <h1>Kakashi&#39;s Notes</h1>
                        <!--<hr class="small">-->
                        <span class="subheading">修其本而末自應</span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Kakashi&#39;s Notes</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                    <li>
                        <a href="/atom.xml">Subscribe</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Main Content -->
<div class="container">
    <div class="row">
        

<!-- USE SIDEBAR -->
    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-1
                col-md-8 col-md-offset-1
                col-sm-12
                col-xs-12
                post-container
            ">
            
                <!-- Main Content -->


<div class="post-preview">

    <a href="/2018/10/04/EKS-notes/">
        <h2 class="post-title">
            EKS 的一些筆記
        </h2>
        <h3 class="post-subtitle">
            一些基本的掃盲
        </h3>
        <div class="post-content-preview">
            
前言  最近大量使用了 AWS 的 EKS ，並且也 migrate 了一些 workload 到 EKS 上面，為了更深入了解 EKS 也找了些文章和影片來看，所以就有了這篇筆記。相關的影片和文章我會列在下面的 Reference。
為什麼需要 EKS最主要是為了改善維護及升級 k8s cluster 的困難度，一般來說，自己維護的 k8s cluster 必需要很注意 master 的......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-10-04
        </p>
        <div class="tags">
            
              <a href="/tags/#AWS" title="AWS">AWS</a>
            
              <a href="/tags/#Kubernetes" title="Kubernetes">Kubernetes</a>
            
              <a href="/tags/#EKS" title="EKS">EKS</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/09/11/EKS-troubleshooting/">
        <h2 class="post-title">
            記一次 AWS EKS troubleshooting 的歷程
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            前言  千呼萬喚下，前陣子 AWS 版本的 Kubernetes 終於 GA 了，但其實真正玩過後，跟之前用 CoreOS 跑起來的 Kubernetes 有不少的差別，主要是因為 AWS 需要把 IAM 及 Network 部分和 Kubernetes 做整合，因為權限和網路效能其實對於服務都是很重要的，而我也是在跑過 EKS 和經歷了這個除錯的過程，才更讓我了解到在不同平台上跑 Kube......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-09-11
        </p>
        <div class="tags">
            
              <a href="/tags/#AWS" title="AWS">AWS</a>
            
              <a href="/tags/#Kubernetes" title="Kubernetes">Kubernetes</a>
            
              <a href="/tags/#EKS" title="EKS">EKS</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/08/26/build-a-better-client/">
        <h2 class="post-title">
            Build a better client
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
                Build a better client  from cc liu 

PrefaceThis is a talk I presented at the internal company meeting. It mainly addresses how could we create better client behavior for modern software archit......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-08-26
        </p>
        <div class="tags">
            
              <a href="/tags/#distributed-system" title="distributed-system">distributed-system</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/08/15/lesson-learn-of-elasticsearch-outage/">
        <h2 class="post-title">
            記一次 Elasticsearch troubleshooting 的歷程
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            過程  前陣子又發生了 AWS Elasticsearch 的 status 變成 red 的情況，這次跟以往的情形有點不一樣，之前爆炸都是因為 disk space 不足，而後來增加了 Curator 定期清理資料後就解了，而這次發生的 outage 有點不同，也讓我想要記錄下發生的原因和解法。
調查  在開了 Support ticket 和查詢 AWS 的 document 後，初步有......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-08-15
        </p>
        <div class="tags">
            
              <a href="/tags/#elasticsearch" title="elasticsearch">elasticsearch</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/07/24/thoughts-on-compassionate-code/">
        <h2 class="post-title">
            Compassionate code
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            
 這是一篇感想文，最近看完了一篇文章叫做 Forget Clean Code, let’s embrace Compassionate Code，還有一篇相關的文章 Thoughts-on-Compassionate-Code，這裡寫的是對第一篇文章的感想，然後在第二篇的文章中找到了一些相同的感觸。
 從 Johannes 寫的 embrace compassionate code 中，談......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-07-24
        </p>
        <div class="tags">
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/06/06/gracefully-shutdown-docker-container/">
        <h2 class="post-title">
            Gracefully Shutdown Docker Container
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            Recently, I have been working on some existing projects trying to implement graceful shutdown mechanism. The initial idea is to make application invokes deconstructor of each component as soon as t......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-06-06
        </p>
        <div class="tags">
            
              <a href="/tags/#docker" title="docker">docker</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/04/28/docker-note/">
        <h2 class="post-title">
            用 docker 改善開發流程筆記
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            前言  在接觸 docker 的這三年中，從一開始的好奇和迷惘，到後來接受並享受了它的好處，途中經歷了一些不為人知的小困難，最近想寫這篇文慢慢回味並且分享一下我的 docker 學習心得，又因為我在 development + operation 方面的工作都有涉獵，更讓我對使用 docker 有不同的體會。
加入目前的公司 Umbo CV 兩年多來，對於裡面的大小夥伴們能夠一起接受並學習 ......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-04-28
        </p>
        <div class="tags">
            
              <a href="/tags/#docker" title="docker">docker</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/03/21/IPSEC-note/">
        <h2 class="post-title">
            IPSec 筆記
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            前言  這篇筆記是用來記錄 IPSec protocal 的一些細節，前陣子在架設 AWS VPN 的時候，遇到了一些小問題，主要還是防火牆擋到需要走的 port ，而當時就在想自己對於 IPSec protocal 也太不熟悉了，所以才有這篇文章來稍微紀錄一下。
為什麼需要 IPSecIP is not secure，我想這點學過計算機網路的同學應該都會知道這點，而有可能受到以下的風險

......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-03-21
        </p>
        <div class="tags">
            
              <a href="/tags/#AWS" title="AWS">AWS</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2018/03/14/AWS-VPN-with-RouterBoard/">
        <h2 class="post-title">
            AWS VPN with RouterBoard
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            IntroductionThis post is used to note down how to setup Managed VPN connection between office to AWS by using Mikrotik RouterBoard. We basically follow instructions of this document and it litteral......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2018-03-14
        </p>
        <div class="tags">
            
              <a href="/tags/#AWS" title="AWS">AWS</a>
            
        </div>
    

</div>
<hr>

<div class="post-preview">

    <a href="/2017/12/18/Network-Performance-Tuning/">
        <h2 class="post-title">
            TCP Network Performance Tuning 筆記
        </h2>
        <h3 class="post-subtitle">
            
        </h3>
        <div class="post-content-preview">
            這篇速記主要紀錄看了 AWS reinvent 這個影片的心得，裡面講解怎麼 tuning TCP 相關的 networking issue，影片來源在此
相當推薦這個影片，裡面不僅提到一些 TCP 上面的學術名詞，也很實際的告訴你在 linux 上面怎麼改變那些值，然後還可以看到在 application 的 benchmark 有很大的差距，這是我之前想像不到的，居然更改了一些設定可以有......
        </div>
    </a>
    
        <p class="post-meta" style="margin: 10px 0;">
            Posted by Kakashi on
            2017-12-18
        </p>
        <div class="tags">
            
              <a href="/tags/#AWS" title="AWS">AWS</a>
            
        </div>
    

</div>
<hr>



<!-- Pager -->

<ul class="pager">
    
        <li class="previous">
            <a href="/">&larr; Newer Posts</a>
        </li>
    
    
        <li class="next">
            <a href="/archives/3/">Older Posts &rarr;</a>
        </li>
    
</ul>



                <!-- 如果开启评论功能 -->
                
            </div>

          <!-- Sidebar Container -->
<div class="
    col-lg-3 col-lg-offset-0
    col-md-3 col-md-offset-0
    col-sm-12
    col-xs-12
    sidebar-container
">
    
        <!-- Featured Tags -->

<section>
    <!-- no hr -->
    <h5><a href="/tags/">FEATURED TAGS</a></h5>
    <div class="tags">
        
            
        
            
            <a href="/tags/#mongodb" title="mongodb" rel="3">mongodb</a>
            
        
            
            <a href="/tags/#docker" title="docker" rel="4">docker</a>
            
        
            
            <a href="/tags/#mysql" title="mysql" rel="2">mysql</a>
            
        
            
            <a href="/tags/#monitoring" title="monitoring" rel="2">monitoring</a>
            
        
            
        
            
            <a href="/tags/#AWS" title="AWS" rel="13">AWS</a>
            
        
            
        
            
        
            
            <a href="/tags/#golang" title="golang" rel="3">golang</a>
            
        
            
        
            
        
            
        
            
            <a href="/tags/#elasticsearch" title="elasticsearch" rel="3">elasticsearch</a>
            
        
            
            <a href="/tags/#Kubernetes" title="Kubernetes" rel="3">Kubernetes</a>
            
        
            
            <a href="/tags/#EKS" title="EKS" rel="3">EKS</a>
            
        
            
        
            
            <a href="/tags/#Prometheus" title="Prometheus" rel="2">Prometheus</a>
            
        
            
            <a href="/tags/#Thanos" title="Thanos" rel="2">Thanos</a>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
</section>

        <hr>
    
        
  <h5>RECENT POSTS
  <div class="widget">
    <ul>
      
        <li>
          <a href="/2020/03/16/s3-latency/">How I Analyze S3 Upload Latency Issues</a>
        </li>
      
        <li>
          <a href="/2019/11/13/golang-meetup45/">Golang 10th Anniversary x GTG 45th 心得</a>
        </li>
      
        <li>
          <a href="/2019/08/22/coscup-ha-prometheus-solution-thanos/">Coscup 分享 - HA Prometheus Solution Thanos</a>
        </li>
      
        <li>
          <a href="/2019/05/02/ultimate-note-for-tweaking-fluentd-aggregator/">Performance tweaking for fluentd aggregator (EFK stack)</a>
        </li>
      
        <li>
          <a href="/2019/04/08/analyze-iam-permission-using-iam-access-advisor-api/">透過 IAM access advisor API 來幫 IAM permission 做大掃除</a>
        </li>
      
    </ul>
  </div>
</h5>
        <hr>
    
        
    <h5>ARCHIVES</h5>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/">2015</a><span class="archive-list-count">6</span></li></ul>
    </div>

        <hr>
    
        <!-- Categories -->

        <hr>
    
</div>

        
    </div>
</div>


    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                    <li>
                        <a target="_blank" href="https://twitter.com/kakashiliu">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                
                

                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/kkcliu">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://github.com/kkcliu">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/kkcliu">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Kakashi 2020 
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a href="http://beantech.org">BeanTech</a> | 
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=YenYuHsuan&repo=hexo-theme-beantech&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://kkc.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-64932988-1';
    var _gaDomain = 'kkc.github.io';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://kkc.github.io/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
